"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const a=require("./webSkel-vYt4AxRD.js");async function u(r,i){const t=a.getClosestParentElement(r,"form"),n={data:{},elements:{},isValid:!1};typeof t.checkValidity=="function"&&(n.isValid=t.checkValidity());const l=[...t.querySelectorAll("[name]:not([type=hidden])")];for(const e of l){if(e.disabled)continue;if(e.multiple&&e.tagName==="SELECT"?n.data[e.name]=Array.from(e.selectedOptions).map(o=>o.value):n.data[e.name]=e.tagName==="CHECKBOX"||e.tagName==="INPUT"&&e.type==="checkbox"?e.checked:e.value,e.getAttribute("type")==="file")if(e.multiple)n.data[e.name]=e.files;else try{e.files.length>0&&(n.data[e.name]=await c(e.files[0]))}catch(o){console.log(o)}let s=!0;if(e.setCustomValidity(""),typeof e.checkValidity=="function"?s=e.checkValidity():typeof e.getInputElement=="function"&&(s=(await e.getInputElement()).checkValidity()),s===!0&&i){let o=e.getAttribute("data-condition");o&&(s=i[o].fn(e,n),s?e.setCustomValidity(""):(e.setCustomValidity(i[o].errorMessage),n.isValid=!1))}n.elements[e.name]={isValid:s,element:e};let m=document.querySelector(`[data-id = '${e.getAttribute("id")}' ]`);m&&(s?m.classList.remove("input-invalid"):m.classList.add("input-invalid"))}t.checkValidity()||t.reportValidity();for(let e of Object.keys(n.data))n.elements[e]&&n.elements[e].element&&n.elements[e].element.hasAttribute("data-no-sanitize")||(n.data[e]=a.sanitize(n.data[e]));return n}async function c(r){let i="",t=new FileReader;return await new Promise((n,l)=>{t.onload=function(){i=t.result,n(i)},r?t.readAsDataURL(r):l("No file given as input at imageUpload")})}function d(){let r=navigator.userAgent,i,t=r.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(t[1])?(i=/\brv[ :]+(\d+)/g.exec(r)||[],{name:"IE",version:i[1]||""}):t[1]==="Chrome"&&(i=r.match(/\bOPR|Edge\/(\d+)/),i!=null)?{name:"Opera",version:i[1]}:(t=t[2]?[t[1],t[2]]:[navigator.appName,navigator.appVersion,"-?"],(i=r.match(/version\/(\d+)/i))!=null&&t.splice(1,1,i[1]),{name:t[0],version:t[1]})}function f(){const r=window.location.search,i=new URLSearchParams(r);let t={};for(let n of i.keys())t[n]=i.get(n);return t}function g(){const r=window.location.hash.split("?");let i={};if(r[1]){const t=new URLSearchParams(r[1]);for(const[n,l]of t)i[n]=l;return i}return i}exports.ResourceManager=a.ResourceManager;exports.WebSkel=a.WebSkel;exports.closeModal=a.closeModal;exports.createTemplateArray=a.createTemplateArray;exports.customTrim=a.customTrim;exports.default=a.WebSkel;exports.findDoubleDollarWords=a.findDoubleDollarWords;exports.getClosestParentElement=a.getClosestParentElement;exports.getClosestParentWithPresenter=a.getClosestParentWithPresenter;exports.getMainAppContainer=a.getMainAppContainer;exports.invalidateParentElement=a.invalidateParentElement;exports.moveCursorToEnd=a.moveCursorToEnd;exports.normalizeSpaces=a.normalizeSpaces;exports.notBasePage=a.notBasePage;exports.refreshElement=a.refreshElement;exports.removeActionBox=a.removeActionBox;exports.reverseQuerySelector=a.reverseQuerySelector;exports.sanitize=a.sanitize;exports.showActionBox=a.showActionBox;exports.showModal=a.showModal;exports.unsanitize=a.unsanitize;exports.extractFormInformation=u;exports.getBrowser=d;exports.getHashParams=g;exports.getURLParams=f;exports.imageUpload=c;
